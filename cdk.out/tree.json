{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "Tree": {
        "id": "Tree",
        "path": "Tree"
      },
      "hi-avail-cdk-east": {
        "id": "hi-avail-cdk-east",
        "path": "hi-avail-cdk-east",
        "children": {
          "Items2Api": {
            "id": "Items2Api",
            "path": "hi-avail-cdk-east/Items2Api",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::GraphQLApi",
              "aws:cdk:cloudformation:props": {
                "authenticationType": "API_KEY",
                "name": "items2-api"
              }
            }
          },
          "ProductsApi": {
            "id": "ProductsApi",
            "path": "hi-avail-cdk-east/ProductsApi",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::GraphQLApi",
              "aws:cdk:cloudformation:props": {
                "authenticationType": "API_KEY",
                "name": "products-api"
              }
            }
          },
          "Items2ApiKey": {
            "id": "Items2ApiKey",
            "path": "hi-avail-cdk-east/Items2ApiKey",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::ApiKey",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                }
              }
            }
          },
          "ProductsApiKey": {
            "id": "ProductsApiKey",
            "path": "hi-avail-cdk-east/ProductsApiKey",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::ApiKey",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                }
              }
            }
          },
          "Items2Schema": {
            "id": "Items2Schema",
            "path": "hi-avail-cdk-east/Items2Schema",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::GraphQLSchema",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                },
                "definition": "                type items2 {\n                    items2Id: ID!\n                    name: String\n                }\n                type Paginateditems2 {\n                    items: [items2!]!\n                    nextToken: String\n                }\n                type Query {\n                    all(limit: Int, nextToken: String): Paginateditems2!\n                    getOne(items2Id: ID!): items2\n                }\n                type Mutation {\n                    save(name: String!): items2\n                    delete(items2Id: ID!): items2\n                }\n                type Schema {\n                    query: Query\n                    mutation: Mutation\n                }"
              }
            }
          },
          "ProductsSchema": {
            "id": "ProductsSchema",
            "path": "hi-avail-cdk-east/ProductsSchema",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::GraphQLSchema",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                },
                "definition": "                type products {\n                    productsId: ID!\n                    name: String\n                }\n                type Paginatedproducts {\n                    items: [products!]!\n                    nextToken: String\n                }\n                type Query {\n                    all(limit: Int, nextToken: String): Paginatedproducts!\n                    getOne(productsId: ID!): products\n                }\n                type Mutation {\n                    save(name: String!): products\n                    delete(productsId: ID!): products\n                }\n                type Schema {\n                    query: Query\n                    mutation: Mutation\n                }"
              }
            }
          },
          "Items2Table": {
            "id": "Items2Table",
            "path": "hi-avail-cdk-east/Items2Table",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "hi-avail-cdk-east/Items2Table/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "keySchema": [
                      {
                        "attributeName": "items2Id",
                        "keyType": "HASH"
                      }
                    ],
                    "attributeDefinitions": [
                      {
                        "attributeName": "items2Id",
                        "attributeType": "S"
                      }
                    ],
                    "billingMode": "PAY_PER_REQUEST",
                    "streamSpecification": {
                      "streamViewType": "NEW_IMAGE"
                    },
                    "tableName": "items2"
                  }
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "hi-avail-cdk-east/Items2Table/ScalingRole"
              }
            }
          },
          "ProductsTable": {
            "id": "ProductsTable",
            "path": "hi-avail-cdk-east/ProductsTable",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "hi-avail-cdk-east/ProductsTable/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "keySchema": [
                      {
                        "attributeName": "productsId",
                        "keyType": "HASH"
                      }
                    ],
                    "attributeDefinitions": [
                      {
                        "attributeName": "productsId",
                        "attributeType": "S"
                      }
                    ],
                    "billingMode": "PAY_PER_REQUEST",
                    "streamSpecification": {
                      "streamViewType": "NEW_IMAGE"
                    },
                    "tableName": "products"
                  }
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "hi-avail-cdk-east/ProductsTable/ScalingRole"
              }
            }
          },
          "ItemsDynamoDBRole": {
            "id": "ItemsDynamoDBRole",
            "path": "hi-avail-cdk-east/ItemsDynamoDBRole",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "hi-avail-cdk-east/ItemsDynamoDBRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "appsync.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      {
                        "Ref": "mpUsEastStack53DA23A2"
                      }
                    ]
                  }
                }
              }
            }
          },
          "mpUsEastStack": {
            "id": "mpUsEastStack",
            "path": "hi-avail-cdk-east/mpUsEastStack",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "hi-avail-cdk-east/mpUsEastStack/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::ManagedPolicy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": "*",
                          "Effect": "Allow",
                          "Resource": "*"
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "description": "",
                    "managedPolicyName": "AmazonDynamoDBFullAccessUsEastStack",
                    "path": "/"
                  }
                }
              }
            }
          },
          "Items2DataSource": {
            "id": "Items2DataSource",
            "path": "hi-avail-cdk-east/Items2DataSource",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::DataSource",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                },
                "name": "Items2DynamoDataSource",
                "type": "AMAZON_DYNAMODB",
                "dynamoDbConfig": {
                  "awsRegion": "us-east-1",
                  "tableName": {
                    "Ref": "Items2Table40B35551"
                  }
                },
                "serviceRoleArn": {
                  "Fn::GetAtt": [
                    "ItemsDynamoDBRole7D2E3F6D",
                    "Arn"
                  ]
                }
              }
            }
          },
          "GetOneQueryResolver": {
            "id": "GetOneQueryResolver",
            "path": "hi-avail-cdk-east/GetOneQueryResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                },
                "fieldName": "getOne",
                "typeName": "Query",
                "dataSourceName": "Items2DynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"GetItem\",\n                \"key\": {\n                \"items2Id\": $util.dynamodb.toDynamoDBJson($ctx.args.items2Id)\n                }\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "GetAllQueryResolver": {
            "id": "GetAllQueryResolver",
            "path": "hi-avail-cdk-east/GetAllQueryResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                },
                "fieldName": "all",
                "typeName": "Query",
                "dataSourceName": "Items2DynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"Scan\",\n                \"limit\": $util.defaultIfNull($ctx.args.limit, 20),\n                \"nextToken\": $util.toJson($util.defaultIfNullOrEmpty($ctx.args.nextToken, null))\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "SaveMutationResolver": {
            "id": "SaveMutationResolver",
            "path": "hi-avail-cdk-east/SaveMutationResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                },
                "fieldName": "save",
                "typeName": "Mutation",
                "dataSourceName": "Items2DynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"PutItem\",\n                \"key\": {\n                    \"items2Id\": { \"S\": \"$util.autoId()\" }\n                },\n                \"attributeValues\": {\n                    \"name\": $util.dynamodb.toDynamoDBJson($ctx.args.name)\n                }\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "DeleteMutationResolver": {
            "id": "DeleteMutationResolver",
            "path": "hi-avail-cdk-east/DeleteMutationResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "Items2Api",
                    "ApiId"
                  ]
                },
                "fieldName": "delete",
                "typeName": "Mutation",
                "dataSourceName": "Items2DynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"DeleteItem\",\n                \"key\": {\n                \"items2Id\": $util.dynamodb.toDynamoDBJson($ctx.args.items2Id)\n                }\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "ProductsDataSource": {
            "id": "ProductsDataSource",
            "path": "hi-avail-cdk-east/ProductsDataSource",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::DataSource",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                },
                "name": "ProductsDynamoDataSource",
                "type": "AMAZON_DYNAMODB",
                "dynamoDbConfig": {
                  "awsRegion": "us-east-1",
                  "tableName": {
                    "Ref": "ProductsTable241ADBFF"
                  }
                },
                "serviceRoleArn": {
                  "Fn::GetAtt": [
                    "ItemsDynamoDBRole7D2E3F6D",
                    "Arn"
                  ]
                }
              }
            }
          },
          "GetOneProductQueryResolver": {
            "id": "GetOneProductQueryResolver",
            "path": "hi-avail-cdk-east/GetOneProductQueryResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                },
                "fieldName": "getOne",
                "typeName": "Query",
                "dataSourceName": "ProductsDynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"GetItem\",\n                \"key\": {\n                \"productsId\": $util.dynamodb.toDynamoDBJson($ctx.args.productsId)\n                }\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "GetAllProductsQueryResolver": {
            "id": "GetAllProductsQueryResolver",
            "path": "hi-avail-cdk-east/GetAllProductsQueryResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                },
                "fieldName": "all",
                "typeName": "Query",
                "dataSourceName": "ProductsDynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"Scan\",\n                \"limit\": $util.defaultIfNull($ctx.args.limit, 20),\n                \"nextToken\": $util.toJson($util.defaultIfNullOrEmpty($ctx.args.nextToken, null))\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "SaveProductMutationResolver": {
            "id": "SaveProductMutationResolver",
            "path": "hi-avail-cdk-east/SaveProductMutationResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                },
                "fieldName": "save",
                "typeName": "Mutation",
                "dataSourceName": "ProductsDynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"PutItem\",\n                \"key\": {\n                    \"productsId\": { \"S\": \"$util.autoId()\" }\n                },\n                \"attributeValues\": {\n                    \"name\": $util.dynamodb.toDynamoDBJson($ctx.args.name)\n                }\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          },
          "DeleteProductMutationResolver": {
            "id": "DeleteProductMutationResolver",
            "path": "hi-avail-cdk-east/DeleteProductMutationResolver",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::AppSync::Resolver",
              "aws:cdk:cloudformation:props": {
                "apiId": {
                  "Fn::GetAtt": [
                    "ProductsApi",
                    "ApiId"
                  ]
                },
                "fieldName": "delete",
                "typeName": "Mutation",
                "dataSourceName": "ProductsDynamoDataSource",
                "requestMappingTemplate": "            {\n                \"version\": \"2017-02-28\",\n                \"operation\": \"DeleteItem\",\n                \"key\": {\n                \"productsId\": $util.dynamodb.toDynamoDBJson($ctx.args.productsId)\n                }\n            }",
                "responseMappingTemplate": "$util.toJson($ctx.result)"
              }
            }
          }
        }
      }
    }
  }
}